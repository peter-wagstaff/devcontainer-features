{
    "id": "agent-creds",
    "version": "1.2.1",
    "name": "Agent Credentials",
    "description": "Persist coding agent credentials (Claude Code, Codex, Gemini Code Assist, GitHub CLI) across dev container rebuilds using Docker volumes",
    "documentationURL": "https://github.com/fjktkm/devcontainer-features/tree/main/src/agent-creds",
    "options": {
        "claude": {
            "type": "boolean",
            "default": true,
            "description": "Mount Claude Code config (~/.claude) via volume."
        },
        "codex": {
            "type": "boolean",
            "default": true,
            "description": "Mount Codex config (~/.codex) via volume."
        },
        "gemini": {
            "type": "boolean",
            "default": true,
            "description": "Mount Gemini Code Assist config (~/.gemini) and caches (~/.cache/google-vscode-extension, ~/.cache/cloud-code) via volumes."
        },
        "github-cli": {
            "type": "boolean",
            "default": true,
            "description": "Mount GitHub CLI config (~/.config/gh) via volume."
        }
    },
    "installsAfter": [
        "ghcr.io/devcontainers/features/common-utils"
    ],
    "postStartCommand": "/bin/sh -c '. /usr/local/share/agent-creds/env && /usr/local/share/agent-creds/post-start.sh'",
    "mounts": [
        {
            "source": "claude",
            "target": "/mnt/claude",
            "type": "volume"
        },
        {
            "source": "codex",
            "target": "/mnt/codex",
            "type": "volume"
        },
        {
            "source": "gemini",
            "target": "/mnt/gemini",
            "type": "volume"
        },
        {
            "source": "cache-google-vscode-extension",
            "target": "/mnt/cache-google-vscode-extension",
            "type": "volume"
        },
        {
            "source": "cache-cloud-code",
            "target": "/mnt/cache-cloud-code",
            "type": "volume"
        },
        {
            "source": "gh",
            "target": "/mnt/gh",
            "type": "volume"
        }
    ]
}
